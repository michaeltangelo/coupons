{"version":3,"sources":["theme.js","history.js","components/Catch404.react.js","components/coupon/Coupon.react.js","components/Home.react.js","components/signin/Signin.react.js","components/Main.react.js","components/navbar/Navbar.react.js","App.js","serviceWorker.js","index.js"],"names":["createMuiTheme","palette","type","typography","useNextVariants","createBrowserHistory","Catch404","props","history","push","Coupon","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","redeemed","revealClicked","handleButtonClick","bind","assertThisInitialized","setState","classes","react_default","a","createElement","Button_default","onClick","className","claimButton","variant","size","color","disabled","generateButtonText","_this$props","title","description","Card_default","card","CardHeader_default","CardContent_default","content","Typography_default","component","CardActions_default","actions","_renderButton","Component","withStyles","theme","marginTop","padding","media","objectFit","width","height","Home","coupons","fetchCoupons","_callee","response","body","regenerator_default","wrap","_context","prev","next","fetch","sent","json","status","console","log","Error","message","abrupt","stop","_this2","cookies","get","then","res","expiration","Date","setDate","getDate","set","path","expires","catch","err","root","concat","Grid_default","grid","container","spacing","item","xs","sm","gridItemRight","Coupon_react","gridItemLeft","xl","withTheme","unit","direction","alignItems","justify","SignIn","password","loading","success","componentDidMount","authed","onAuthSuccess","onSubmitClicked","e","preventDefault","authenticate","sessionToken","method","mode","headers","Content-Type","JSON","stringify","onPasswordTextChanged","event","target","value","_this$state","Fragment","CssBaseline_default","layout","Paper_default","paper","wrapper","Avatar_default","avatar","LockOpenOutlined_default","LockOutlined_default","CircularProgress_default","fabProgress","onSubmit","form","FormControl_default","margin","required","fullWidth","InputLabel_default","htmlFor","Input_default","onChange","name","id","autoComplete","submit","buttonProgress","defineProperty","display","marginLeft","marginRight","breakpoints","up","flexDirection","backgroundColor","secondary","main","position","top","left","zIndex","PrivateRoute","_ref","rest","objectWithoutProperties","componentExtraProps","Route","assign","render","Redirect","to","pathname","from","location","Main","verifyTokenStatus","userToken","_onAuthSuccessCallback","undefined","_this3","Switch","Signin_react","withCookies","Navbar","AppBar_default","Toolbar_default","App","data","initBackend","express","es6","MuiThemeProvider_default","Navbar_react","Main_react","Boolean","window","hostname","match","ReactDOM","Router","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5756a1b2.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n      type: 'light',\n      // primary: { main: '#1565c0' }, // Purple and green play nicely together.\n      // secondary: { main: '#f48fb1' }, // This is just green.A700 as hex.\n  },\n  typography: {\n    useNextVariants: true,\n  },\n});\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();\n","import history from '../history';\n\nfunction Catch404(props) {\n  history.push('/secret');\n  return null;\n}\n\nexport default Catch404;\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\n// import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n// import theme from './../../theme';\nimport Card from '@material-ui/core/Card';\n// import CardActionArea from '@material-ui/core/CardActionArea';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\n// import CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\n\nclass Coupon extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redeemed: false,\n      revealClicked: 0,\n    };\n    this.handleButtonClick = this.handleButtonClick.bind(this);\n  }\n\n  handleButtonClick() {\n    this.setState({revealClicked: this.state.revealClicked+1});\n    if (this.state.revealClicked >= 1) {\n      this.setState({redeemed: true});\n    }\n  }\n\n  generateButtonText() {\n    const num = this.state.revealClicked;\n    switch (num) {\n      case 0:\n        return 'Redeem Coupon';\n      case 1:\n        return 'Press to Confirm';\n      default:\n        return 'Redeemed';\n    }\n  }\n\n  _renderButton(classes) {\n    if (this.state.redeemed) {\n      // render redeemed button\n      return (\n        <Button\n          onClick={this.handleButtonClick}\n          className={classes.claimButton}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          disabled={true}>\n          {this.generateButtonText()}\n        </Button>\n      );\n    } else {\n      return (\n        <Button\n          onClick={this.handleButtonClick}\n          className={classes.claimButton}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\">\n          {this.generateButtonText()}\n        </Button>\n      );\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      title,\n      description,\n    } = this.props;\n\n    return (\n      <Card className={classes.card}>\n        <CardHeader\n          title={title}\n          // subheader=\"Terms and conditions apply\"\n        />\n        <CardContent className={classes.content}>\n          {/* <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            Lizard\n          </Typography> */}\n          <Typography component=\"p\">\n            {description}\n          </Typography>\n          {/* <CardMedia\n            component=\"img\"\n            alt=\"Contemplative Reptile\"\n            className={classes.media}\n            height=\"550\"\n            image=\"static/img/district9.jpg\"\n            title=\"Contemplative Reptile\"\n          /> */}\n        </CardContent>\n      <CardActions className={classes.actions}>\n        {this._renderButton(classes)}\n      </CardActions>\n    </Card>\n    );\n  }\n}\n\nconst styles = theme => ({\n  card: {\n    marginTop: 24,\n    // minWidth: 275,\n    // maxWidth: '100%',\n    padding: 12,\n    // maxHeight: 500,\n  },\n  content: {\n    // minHeight: 500,\n  },\n  media: {\n    padding: 20,\n    objectFit: 'cover',\n  },\n  actions: {\n    marginTop: 50,\n  },\n  claimButton: {\n    width: '100%',\n    height: 50,\n  },\n});\n\n\nexport default withStyles(styles)(Coupon);\n","// import Button from '@material-ui/core/Button';\nimport React, { Component } from 'react';\n// import MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport PropTypes from 'prop-types';\n// import theme from './../theme';\nimport { withStyles, withTheme } from '@material-ui/core/styles';\n// import GridList from '@material-ui/core/GridList';\n// import GridListTile from '@material-ui/core/GridListTile';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nimport Coupon from './coupon/Coupon.react';\n\n// Main coupon scrolling page\nclass Home extends Component {\n  state = {\n    coupons: null,\n  };\n\n  componentDidMount() {\n    console.log(this.props);\n    const { cookies } = this.props;\n    const users = cookies.get('user');\n\n    this.fetchCoupons()\n    .then(res => {\n      this.setState({ coupons: res.message });\n      const expiration = new Date();\n      // Set expiration date to one month\n      expiration.setDate(expiration.getDate() + 30);\n\n      cookies.set('user', 'wejfpwoefj', { path: '/', expires: expiration });\n    })\n    .catch(err => console.log(err));\n  }\n\n  fetchCoupons = async() => {\n    const response = await fetch('/api/coupons');\n    const body = await response.json();\n\n    if (response.status !== 200) {\n      console.log('throwing error');\n      throw Error(body.message)\n    }\n    return body;\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <Typography>\n          {`Our state: ${this.state.coupons}`}\n        </Typography>\n        <Grid className={classes.grid} container spacing={16}>\n          <Grid item xs={12} sm={6} className={classes.gridItemRight}>\n            <Coupon\n                title=\"bob\"\n                description=\"awpeofjawepf\"\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} className={classes.gridItemLeft}>\n            <Coupon />\n          </Grid>\n          <Grid item xs={12} sm={6} className={classes.gridItemRight}>\n            <Coupon />\n          </Grid>\n          <Grid item xl={12} className={classes.gridItemLeft}>\n            <Coupon />\n          </Grid>\n        </Grid>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    spacing: 24,\n    // display: 'flex',\n    // flexWrap: 'wrap',\n    // justifyContent: 'space-around',\n    // overflow: 'hidden',\n    // direction: 'column',\n    // backgroundColor: 'white,\n    padding: `0 ${theme.spacing.unit * 3}px`,\n  },\n  grid: {\n    width: '100%',\n    direction: 'row',\n    alignItems: 'center',\n    justify: 'flex-end',\n    // height: 800,\n  },\n  gridItemRight: {\n    // alignItems: 'flex-start',\n  },\n  gridItemLeft: {\n    // alignItems: 'flex-start',\n  }\n});\n\nHome.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withTheme()(withStyles(styles)(Home));\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockIcon from '@material-ui/icons/LockOutlined';\nimport LockOpenIcon from '@material-ui/icons/LockOpenOutlined';\nimport Paper from '@material-ui/core/Paper';\nimport green from '@material-ui/core/colors/green';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nimport history from '../../history';\n\nconst styles = theme => ({\n  layout: {\n    width: 'auto',\n    display: 'block', // Fix IE 11 issue.\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    marginTop: theme.spacing.unit * 8,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n  },\n  avatar: {\n    margin: theme.spacing.unit,\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing.unit,\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 3,\n  },\n  fabProgress: {\n    // color: green[500],\n    position: 'absolute',\n    top: 3,\n    left: 3,\n    zIndex: 1,\n  },\n  buttonProgress: {\n    // color: green[500],\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: 0,\n    marginLeft: -12,\n  },\n  wrapper: {\n    margin: theme.spacing.unit,\n    position: 'relative',\n  },\n});\n\nclass SignIn extends Component {\n  state = {\n    password: '',\n    loading: false,\n    success: false,\n  }\n\n  componentDidMount = (props) => {\n    console.log(`is signin authed?: ` + this.props.authed);\n    const { authed } = this.props;\n    if (authed) {\n      // we pass in an empty string to indicate that we are already authenticated\n      props.onAuthSuccess('');\n    }\n  }\n\n  onSubmitClicked = (e) => {\n    e.preventDefault();\n    if (!this.state.loading) {\n      this.setState({ loading: true });\n    }\n    if (this.state.password !== '') {\n      this.authenticate(this.state.password)\n      .then(res => {\n        const authed = res.message === 'ok' ? true : false;\n        this.setState({ loading: false, success: authed });\n        if (authed) {\n          this.props.onAuthSuccess(res.sessionToken);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({ loading: false });\n      });\n    }\n  }\n\n  authenticate = async(password) => {\n    const response = await fetch('/api/authenticate', {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\"Content-Type\": \"application/json; charset=utf-8\"},\n      body: JSON.stringify({ password: password }),\n    });\n    const body = await response.json();\n\n    if (response.status !== 200) {\n      console.log('throwing error');\n      throw Error(body.message)\n    }\n    return body;\n  }\n\n  onPasswordTextChanged = (event) => {\n    this.setState({password: event.target.value});\n  }\n\n  render() {\n    const { loading, success } = this.state;\n    return (\n      <React.Fragment>\n        <CssBaseline />\n        <main className={this.props.classes.layout}>\n          <Paper className={this.props.classes.paper}>\n            <div className={this.props.classes.wrapper}>\n              <Avatar className={this.props.classes.avatar}>\n                {success ? <LockOpenIcon /> : <LockIcon />}\n              </Avatar>\n              {loading && <CircularProgress size={50} className={this.props.classes.fabProgress} />}\n            </div>\n            <Typography component=\"h3\" variant=\"h5\">\n              Password Required\n            </Typography>\n            <form onSubmit={this.onSubmitClicked} className={this.props.classes.form}>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"password\">Password</InputLabel>\n                <Input\n                  onChange={this.onPasswordTextChanged}\n                  name=\"password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                />\n              </FormControl>\n              <div className={this.props.classes.wrapper}>\n                <Button\n                  type=\"submit\"\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={this.props.classes.submit}\n                  disabled={loading}\n                  >\n                  Enter\n                </Button>\n                {loading && <CircularProgress size={24} className={this.props.classes.buttonProgress} />}\n              </div>\n            </form>\n          </Paper>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nSignIn.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SignIn);\n","import React, {Component} from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Catch404 from './Catch404.react';\nimport Home from './Home.react';\nimport Signin from './signin/Signin.react';\nimport { withCookies } from 'react-cookie';\n\nimport history from './../history';\n\nfunction PrivateRoute ({ component: Component, authed, ...rest }) {\n  const { componentExtraProps } = rest;\n  return (\n    <Route\n      {...rest}\n      render={(props) => (\n      authed === true\n        ? <Component {...props} {...componentExtraProps}/>\n        : <Redirect to={{pathname: '/secret', state: {from: props.location}}} />\n    )}/>\n  );\n};\n\nclass Main extends Component {\n  state = {\n    authed: false,\n    loading: false,\n  }\n\n  componentDidMount() {\n    const { cookies } = this.props;\n    // can be null\n    const userToken = cookies.get('sessionToken');\n    console.log(userToken);\n\n    if (userToken !== undefined) {\n      this.verifyTokenStatus(userToken)\n      .then(res => {\n        console.log(res.message);\n        this.setState({ authed: res.message === 'ok' ? true : false });\n        history.push('/home');\n      })\n      .catch(err => console.log(err));\n    } else {\n      console.log('no cookie, redirecting to signup')\n    }\n  }\n\n  verifyTokenStatus = async(userToken) => {\n    const response = await fetch('/api/verifyToken', {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\"Content-Type\": \"application/json; charset=utf-8\"},\n      body: JSON.stringify({ userToken: userToken }),\n    });\n    const body = await response.json();\n\n    if (response.status !== 200) {\n      console.log('throwing error');\n      throw Error(body.message)\n    }\n    return body;\n  };\n\n  // This seems sketchy. Oh well\n  _onAuthSuccessCallback = (sessionToken) => {\n    // sessionToken CAN be purposefully empty\n    if (sessionToken !== '') {\n      const { cookies } = this.props;\n      this.setState({ authed: true });\n      // Deliver sessionToken cookie\n      const expiration = new Date();\n      // expires in half a day\n      expiration.setDate(expiration.getDate() + 1);\n      cookies.set('sessionToken', sessionToken, { path: '/', expires: expiration });\n    }\n    history.push('/home');\n  }\n\n  render() {\n    console.log(`my auth state: ${this.state.authed}`);\n    return (\n      <Switch>\n        <Route\n          path='/secret'\n          // component={Signin}\n          render={() =>\n            <Signin\n              authed={this.state.authed}\n              onAuthSuccess={this._onAuthSuccessCallback}\n            />\n          }\n          />\n        <PrivateRoute\n          authed={this.state.authed}\n          path='/home'\n          componentExtraProps={{\n            cookies: this.props.cookies,\n          }}\n          component={Home}\n        />\n        <Route component={Catch404}/>\n      </Switch>\n    )\n  }\n}\n\nexport default withCookies(Main);\n","import React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nclass Navbar extends Component {\n  render() {\n    return (\n      <div>\n      <AppBar position=\"static\">\n          <Toolbar>\n              <Typography variant=\"h5\" color=\"inherit\">\n                Natangelo's Coupon Composium\n              </Typography>\n          </Toolbar>\n      </AppBar>\n      </div>\n    );\n  }\n}\nexport default Navbar;\n","import React, { Component } from 'react';\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport { CookiesProvider } from 'react-cookie';\nimport theme from './theme';\n// import logofrom './logo.svg';\nimport './App.css';\n\nimport Main from './components/Main.react';\nimport Navbar from './components/navbar/Navbar.react';\n\nclass App extends Component {\n  state = {\n    data: null\n  };\n\n  componentDidMount() {\n    this.initBackend()\n    .then(res => this.setState({ data: res.express }))\n    .catch(err => console.log(err));\n  }\n\n  initBackend = async() => {\n    const response = await fetch('/api/coupons');\n    const body = await response.json();\n\n    if (response.status !== 200) {\n      console.log('throwing error');\n      throw Error(body.message)\n    }\n    return body;\n  };\n\n  render() {\n    return (\n      <CookiesProvider>\n        <MuiThemeProvider theme={theme}>\n          <Navbar />\n          <Main />\n        </MuiThemeProvider>\n      </CookiesProvider>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Router } from 'react-router-dom';\nimport history from './history';\n\nReactDOM.render((\n  <Router history={history}>\n    <App />\n  </Router>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}